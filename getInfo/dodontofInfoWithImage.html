<body onLoad="getDodontofBusyAll()" >
  <script type="text/javascript" src="jquery-1.7.1.min.js"></script>

  <script type="text/javascript"><!--

function getDodontofBusyAll() {
    $("#dodontofList > div > div").each(function() {
    var targetDivName = "#" + $(this).attr('id');
    getDodontofBusyImage( targetDivName );
    });
}
     
function getDodontofBusyImage(target) {
    var title = $(target).html();
    
    if( $(target).attr('isSleep') == "true" ) {
        $(target).html( "--%<br>" + title );
        return;
    }
    
    $(target).html( "loading...<br>" + title );
    
    var url = $(target).parent().find('a').attr('href');
    url = getBusyInfoUrl(url);
    
    jQuery.getJSON(url, function(data) {
      getBusyInfoResult(target, title, data)
  });
}

function getBusyInfoUrl(url) {
    url = url.replace(/DodontoF.swf$/, "");
    url = url.replace(/DodontoFServer.rb.*$/, "");
    url = url.replace(/\/$/, "");
    url = url + "/DodontoFServer.rb?webif=getBusyInfo&callback=?";
    
    return url;
}

function getBusyInfoResult(target, title, data) {
    if( data.result != "OK" ) {
      return ;
    }
    
    var percentage = data.loginCount / data.maxLoginCount * 100;
    percentage = Math.floor( percentage );
    
    var busyInfoFull = "" + data.loginCount + "/" + data.maxLoginCount + "(" + percentage + "%)";
    var busyInfo = "" + percentage + "%";
    var htmlText = busyInfo + "<br>" + title;
    $(target).html(htmlText);
    
    var imageUrl = getImageUrl(percentage);
    var image = $(target).parent().find('img');
    image.attr('src', imageUrl);
    
    $(target).parent().attr('title', data.version);
}

function getImageUrl(percentage) {
    //var prefix = "l_";
    var prefix = "";
    var imageUrl = "p00.gif";
    
    if( percentage > 100 ) {
  imageUrl = "over100.gif";
    } else if ( percentage > 75) {
  imageUrl = "over75.gif";
    } else if ( percentage > 50) {
  imageUrl = "over50.gif";
    } else if ( percentage > 25) {
  imageUrl = "over25.gif";
    } else {
  imageUrl = "over0.gif";
    }
    
    imageUrl = "images/" + prefix + imageUrl;
    
    return imageUrl;
}

function getUrlLinkText(text, url) {
    var htmlText = "<u><a href='" + url + "' target='_blank'>" + text + "</a></u>";
    return htmlText;
}


// -->
</script>

  <div id="dodontofList">
<div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><a href="http://www.taruki.com/%7Etakeru/DodontoF/DodontoF.swf" target="_blank"> <img src="images/equal0.gif" border="0" /></a>
<div id="dodontof_stable1">åˆéÆ</div>
</div>
<div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><a href="http://raa0121.gehirn.ne.jp/DodontoF/DodontoF.swf" target="_blank"> <img src="images/equal0.gif" border="0" /></a>
<div id="dodontof_raa1">ÇÁÇüÇ≥ÇÒÇP</div>
</div>
<div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><a href="http://raa0121.shiracha.net/DodontoF/DodontoF.swf" target="_blank"> <img src="images/equal0.gif" border="0" /></a>
<div id="dodontof_raa2">ÇÁÇüÇ≥ÇÒÇQ</div>
</div>
<div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><a href="http://nakako.raa0121.info/DodontoF/DodontoF.swf" target="_blank"> <img src="images/equal0.gif" border="0" /></a>
<div id="dodontof_raa3">ÇÁÇüÇ≥ÇÒÇR</div>
</div>
<div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><a href="http://trpg.gigafreaks.com/dodontof/DodontoF.swf" target="_blank"> <img src="images/equal0.gif" border="0" /></a>
<div id="dodontof_kisaragi">î@åé„ƒñÁÇ≥ÇÒ</div>
</div>

  <div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><img src="images/baloon3.gif" border="0" /></div>
<br /> <br />
  
<div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><a href="http://dodontof.trpg.net/DodontoF.swf" target="_blank"> <img src="images/equal0.gif" border="0" /></a>
<div id="dodontof_trpg_net">TRPG.NET</div>
</div>
<div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><a href="http://dodontof.cre.jp/DodontoF.swf" target="_blank"> <img src="images/equal0.gif" border="0" /></a>
<div id="dodontof_cre">CRE</div>
</div>
<div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><a href="http://dodontof.cokage.ne.jp/DodontoF.swf" target="_blank"> <img src="images/equal0.gif" border="0" /></a>
<div id="dodontof_cokage">ñÿâA</div>
</div>
<div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><a href="http://dodontof.kataribe.com/DodontoF.swf" target="_blank"> <img src="images/equal0.gif" border="0" /></a>
<div id="dodontof_kataribe">åÍÇËïî</div>
</div>
<br /><hr />
  
<div style="display: inline-block; _display: inline; margin-left: 30px; text-align: center;"><a href="DodontoF/DodontoF.swf" target="_blank"> <img src="images/equal0.gif" border="0" /></a>
<div id="dodontof_newest">ìÆçÏÉeÉXÉgópç≈êV</div>
</div>

</div>
