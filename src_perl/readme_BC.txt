===============================================================================
【ソフト名】  ゲーム設定型ダイスボット「ボーンズ＆カーズ(bcdice.pl)」Ver.1.2.23
【著作権者】  Faceless
【対応環境】  Perl 5.8以降の動作可能な環境。
              Net::IRC 及び Math::Random::MT::Perl モジュールが必要
【開発言語】  ActivePerl 5.10.1
【開発環境】  WindowsXP + P4
【 種  別 】  フリーウエア(修正BSDライセンスに準拠)
【転載条件】  修正BSDライセンス上で許可
【連絡先 及び １次配布】  http://faceless-tools.cocolog-nifty.com/blog/
===============================================================================

1.概要
　Perlで動くIRCのダイスボットです。
　ダイス機能とソードワールドのレーティング機能があります。
　ゲーム設定によって成功度も自動判定します。
　ベースのボットに機能を追加しまくって、すっかり多機能になってます。

2．使用方法

　このプログラムはローカルで動かすことを前提にしています。
　そのため、自分のパソコンにPerlがインストールされている必要があります。

　WindowsはActivePerl(無料)を利用すると便利です。
　http://aspn.activestate.com/ASPN/Downloads/ActivePerl/

　ダウンロードしてインストーラをダブルクリック、画面の指示に従うだけ。


　さて、Perlのインストールが終わったら、次はいくつかのモジュールが必要です。

　なんとバージョン4.0からはPPM(Perl Package Manager)がGUIになりました。
　スタートメニューのプログラムから「Active Perl」の所を探してみると「Perl Package Manager」があるはず。
　これを立ち上げて、モジュールをインストールしてしまいましょう。

　まずはアイコンの左端(灰色)を選んで「全てのモジュール」を表示させます。
　次に、虫眼鏡アイコンの右にあるテキストボックスに「NET-IRC」と打ってリターンを押すと、NET-IRC関連だけ表示されるはず。
　NET-IRCにもいくつか種類がありますが、とりあえず「NET-IRC」を選んで「Action」メニューから「Install」をクリック。
　これでインストールマーカーが付きました。

　お次にMath::Random::MT::Perlです。
　これはメルセンヌ・ツイスターという乱数モジュールで、より自然に近い乱数が使えるようになる物です。
　「Math-Random-MT」で検索したら、同じようにインストールマーカーを付けてください。
　「Math-Random-MT-Perl」と「Math-Random-MT」のどちらでも構いません。インストールされている方を自動選択します。
　Perl標準の乱数で構わない人は無理にインストールしなくてもOKです。

　他にもインストールしたいモジュールがあれば、どんどんマークしてしまうと良いと思います。
　マークが終わったら、「File」メニューの「Run Marked Action」でマークしたパッケージをインストールしてしまいましょう。

　環境が整ったので、次はプログラムを動かしますが...その前に一度再起動しておきましょう。
　OSによってはパスの設定が再起動しないと反映されない事があります。

　プログラムをテキストエディタで開き、先頭部分にある「設定」の部分を自分のプレイ環境に合わせて変更します。
　殆どの人は「いつも使うサーバーとポート、チャンネル」の指定で十分です。
　IRCではサーバ群でNickがユニークな(他と重複しない)必要があるので、ニックネームも変更しておくと良いかもしれません。

　後は実行するだけです。
　拡張子plが関連づけされている場合はダブルクリックでも起動しますが、最初はオーソドックスにコマンドラインからの実行をお勧めします。
　特に最初はモジュールのインストール忘れなどで起動しないことがありますが、コマンドラインから起動するとエラー表示されるので判りやすいからです。

　コマンドラインの起動は 「スタートメニュー」→「ファイル名を指定して実行」→「cmd.exe」と入力して「ＯＫ」 が簡単です。
　私はスタートメニューの「アクセサリ」から、「コマンドプロンプト」を右クリックしてツールバーにコピーしてしまっています。

　コマンドラインが起動したら、プログラムが置かれている場所に移動して、

　perl bcdice.pl

　で起動するのが良いでしょう。
　コマンドラインでの移動方法が判らない場合は「perl」と打ったら半角スペースを開けて、コマンドプロンプトの窓に「bcdice.pl」をドラッグ＆ドロップするとずらずら〜っと長いファイル名(フルパス)で入力されますので、そのままリターンでＯＫです。

　起動しない場合は perl -v とタイプしていろいろと表示されるかチェックしてください。
　なにも表示されないようであれば、Perlのインストールが正しく行われていません。
　パスの設定を見直すか、プログラムをPerl-bin以下に移動して実行しましょう。

　それでも出来ない場合は、Perlのインストール方法がより詳しく書かれているサイトを探してPerlスクリプトの動かし方を調べると良いでしょう。

　また、サーバーなどはコマンドラインからも指定できます。
　指定した場合、初期設定部分で指定した物よりも優先されます。
　書式は

 -s サーバ設定      「-s(サーバ):(ポート番号)」     (ex. -sirc.trpg.net:6667 )
 -c チャンネル設定  「-c(チャンネル名)」            (ex. -c#Dice_test )
 -n Nick設定        「-n(Nick)」                    (ex. -nFDiceCOC )
 -m メッセージ設定  「-m(Notice_flgの番号)」        (ex. -m0 )
 -g ゲーム設定      「-g(ゲーム指定文字列)」        (ex. -gCthulhu )
 -e 拡張カード読込  「-e(ファイル名)」              (ex. -etestset.txt )
 -i IRC文字コード   「-i(文字コード名称)」          (ex. -iISO-2022-JP )

　となります。必要な部分だけ書いて、後の部分を省略してもかまいません。
　順序は自由ですが、各引数の間は半角スペースが必要です。
　また、eコマンドを使うときはカードファイルをこのスクリプトと同じフォルダに置いてください。
# サンプルに「testset.txt」を添付しました。読み込ませるとジョーカー２枚のトランプが使えるはずです。

　例）
　perl bcdice.pl -sirc.trpg.net:6667 -c#OnlineTRPG -gCthulhu -nfDICE_CoC

　プレイ環境ごとにバッチファイルを作っておくと便利です。


　複数のチャンネルで利用するときは、「招待(invite)」すると飛んできます。
　終了時はボットにTalkで「お疲れ様」と発言するとボットがサーバから切断して終了します。

3.ボットの利用法

　０．ヘルプ
　　　Talkでダイスボットに"help"と発言してください。
　　　カード機能に関しては"c-help"と発言してください。

　１．ダイス
　　　注意:イタズラ防止に、ダイスは一度に200個まで、面数は1000面体までに制限しています。

　　・加算ロール　(xDn)
　　　発言中に半角で"個数dダイスの目+ボーナス"の形で記述することでダイスが
　　　振られます。
　　　ダイスロールを足したり引いたり、ボーナスを足したり引いたりも出来ます。

　　　例）
　　　2d6　　3d10+1　　4d8+2D6　3d6+2d10+4　　6D4-3　　6d6+4d8+6d10+3d20+4d4
　　　3d6-1d4+1　　2d6-1d6

　　　本来、書き連ねるダイスの数に制限はありません(１行がIRCで扱える長さであること)し、
　　　Perlで扱える数値の範囲内であれば、ダイスの最大値も任意ですが、イタズラ防止に
　　　ダイスは一度に200個まで、面数は1000面体までに制限しています。(変更可能)
　　　dは大文字でも小文字でもかまいません。
　　　ただし、これらのダイスは「必ず半角で」記述してください。

　　　ダイスロール結果を整数倍(自然数倍)することも出来ます。

　　　例)
　　　3d6*2　　2d6*3-1d6+1

　　　また、同じダイスを複数使うときには"(3+5)d6"というように()でくくっておくと
　　　先に計算してから処理されるようにしてみました。
　　　括弧内の算術記号は加算(+)、減算(-)、乗算(*)、除算(/)に対応しています。
　　　また"((1+2)*3)"のように、入れ子構造になっていても計算されます。
　　　これを「括弧内前処理」と呼ぶことにします。

　　　例)
　　　(2+3)d6-1+3d6+2　　　(2*3-4)d6-1d4+1　　　((2+3)*4/3)d6*2+5

　　　加算ロールの結果に条件式で目標値を指定して、ゲーム固有の成功度判定を
　　　自動表示することができます。
　　　現在は"<="と">="のみ対応。判定のためにはゲーム設定を行う必要があります。
　　　成功度を必要としない成功か失敗のみの判定は、ゲーム設定無しでも出来ます。

　　　例)
　　　1d100<=50　　　1D100<=25

　　・バラバラロール　(xBn)
　　　ダイスの値の和を使うのではなく「ある値以上のダイスの個数」を使うゲーム
　　　(シャドウランなど)にも対応しました。
　　　Dの代わりにBを使うことで、合計ではなくバラバラの値が表示されます。
　　　ボーナスを記入することは出来ません。

　　　例）
　　　3b6　　　10b6　　　8B10

　　　最後に条件を指定すると、条件にあうダイスがいくつあるのか数えます。
　　　使える条件は、以上(>=)、以下(<=)、未満(<)、より大(>)、以外(<>)、同じ(=)
　　　です。
　　　ダイス同士の加算式のみ使えます。ただしダイスの面数は揃えてください。
　　　条件の数値に計算式は使えません。ただし括弧内前処理は可能です。

　　　例)
　　　10b6>=4　　　3B6<=3　　　2b6+3b6>=4　　　(3-2)b6=6

　　・個数振り足しロール　(xRn)
　　　ダイスをバラバラにロールして、その成功数の個数分さらにロールして成功度を
　　　加算するロール(天羅万象など)にも対応しました。
　　　振り足し回数はゲーム設定で対応になっています。(デフォルトは無限)
　　　BのかわりにRを使うことで使用できます。
　　　条件式は必須で、ダイスの括弧内前処理も使えます。

　　　例)
　　　3r6>=4　　　3R6=6　　　3r6+2r6<=2　　　(3+2)r6>=5

　　・上方無限ロール　(xUn)
　　　ダイスをバラバラにロールして、その結果が上方無限境界値以上になると
　　　再度振り、その値をダイス目に加えることができるロール(ロールマスターや
　　　シャドウランなど)にも対応しました。
　　　これは上方無限が成立し続ける限り振り続けます。
　　　BのかわりにUを使うことで使用できます。
　　　境界値は"[境界値]"で指定するほかにマスターコマンドで自動設定もできます。
　　　条件式がない場合は、合計値が出るようにしました。
　　　条件式をつけると目標値にいくつ達したかも表示します。

　　　例)
　　　3u6[6]　　　1U100[96]　　　3u6+5u6[6]>=7　　　(5+6)u10[10]>=8
　　　(マスターコマンドで境界値登録してある場合は　3u6>=6　と記述できます。)


　　・シークレットロール　(Sダイスコマンド)
　　　さらにこれらのダイスロールは他のプレイヤーに隠れてロールすることも可能です。
　　　ダイスコマンドの先頭に「S」をつけてロールすると本人だけに返事が返ってきます。

　　　例)
　　　S3D6　　　S3B6　　　S6R6>=5　　　S3u6+5u6[6]>=7

　　　全員のシークレットロールの結果を一斉に公開することが出来ます。
　　　デフォルトの公開コマンドは「Open Dice!」です。


　　・プロットの登録
　　　まずプレイ開始時に各自が「プロットの開示コマンド」を入力してください。
　　　これでプロットの結果をどこに表示したらいいかをダイスボットが覚えます。
　　　登録できるチャンネルは一つになっています。

　　　実際に登録するときはボットとTalkで「PLOT:プロットの内容」と入力してください。
　　　入力が終わると結果を表示するチャンネルにメッセージが出ます。

　　　例)
　　　PLOT:折角だから俺はこの赤い扉を選ぶぜ　　PLOT:速度5

　　・プロットの開示
　　　全員のプロット(最新のみ)を一斉に開示することが出来ます。
　　　デフォルトの公開コマンドは「Open Plot!」です。


　　・ランダム数値の埋め込み
　　　ダイスの個数がランダムに変化するなど、コマンド中に乱数を埋め込む必要がある時には
　　　「[Min...Max]」(Min=乱数の最小値, Max=乱数の最大値。どちらも自然数)と書くと
　　　乱数を埋め込むことが出来ます。

　　　例)
　　　[1...5]D6　　　([2...4]+2)D10　　　×[(2+3)...8]D6（←これはNG



　２．ゲーム固有の処理用コマンド
　　・『クトゥルフ神話TRPG』の抵抗ロール　(RES(x-n))
　　　RES(自分の能力値-相手の能力値)で記述します。
　　　抵抗ロールに変換して成功したかどうかを表示します。

　　　例）
　　　RES(12-10)　　　res(10-15)

　　・『ソードワールド』のレーティング　(Kx)
　　　"Kキーナンバー+ボーナス"の形で記入します。
　　　ボーナスの部分に「K20+K30」のようにレーティングを取ることは出来ません。
　　　また、ボーナスは複数取ることが出来ます。
　　　レーティング表もダイスロールと同様に、他のプレイヤーに隠れてロールすることも可能です。

　　　例）
　　　K20　　　K10+5　　　k30　　　k10+10　　　Sk10-1　　　k10+5+2

　　　クリティカル値の設定も出来ます。
　　　クリティカル値は"[クリティカル値]"で指定します。
　　　指定しない場合はクリティカル値10とします。
　　　クリティカル処理が必要ないときは13などとしてください。(防御時などの対応)
　　　またタイプの軽減化のために末尾に「@クリティカル値」でも処理するようにしました。

　　　例）
　　　K20[10]　　　K10+5[9]　　　k30[10]　　　k10[9]+10　　　k10-5@9

　　　ダイス目の修正も出来ます。
　　　末尾に「$修正値」で処理するようにしました。
　　　修正値が数字のみの場合は、固定値として処理されます。
　　　クリティカルする場合は止まるまで自動で振りますが、固定値や修正値の適用は最初の一回だけです。

　　　例）
　　　K20$+1　　　K10+5$9　　　k10-5@9$+2　　　k10[9]+10$9

　　・『Chill』のストライク・ランク　(SRx)
　　　"SRストライク・ランク"の形で記入します。
　　　ストライク・ランク・チャートに従って自動でダイスロールを行い、
　　　負傷とスタミナロスを計算します。
　　　ダイスロールと同様に、他のプレイヤーに隠れてロールすることも可能です。

　　　例）
　　　SR7　　　sr13　　　SR(7+4)　　　Ssr10

　　・『デモンパラサイト / 鬼御魂』の衝動表　(URGEx)
　　　"URGE衝動レベル"の形で指定します。
　　　衝動表に従って自動でダイスロールを行い、結果を表示します。
　　　ダイスロールと同様に、他のプレイヤーに隠れてロールすることも可能です。
　　　頭に識別文字を追加して、デフォルト以外の衝動表もロールできます。
　　　　・nURGEx　頭に「N」を付けると「新衝動表」。
　　　　・aURGEx　頭に「A」を付けると「誤作動表」。
　　　　・mURGEx　頭に「M」を付けると「ミュータント衝動表」になります。
　　　　・uURGEx　頭に「U」が付くと鬼御魂の戦闘外衝動表。
　　　　・cURGEx　頭に「C」で鬼御魂の戦闘中衝動表になります。

　　　例）
　　　URGE1　　　urge5　　　Surge2

　　・『パラサイトブラッド』の衝動表　(URGEx)
　　　デモンパラサイトと同様です。

　　・『ウォーハンマーFRP』のクリティカル表　(WHpx)
　　　"WH部位 クリティカル値"の形で指定します。
　　　部位は「H(頭部)」「A(腕)」「B(胴体)」「L(足)」の４カ所です。
　　　クリティカル表を参照して結果を表示します。

　　　例）
　　　whH10　　　whA5　　　WHL4

　　・『ウォーハンマーFRP』の命中判定　(WHx@t)
　　　"WH(命中値)@(種別)"の形で指定します。
　　　部位は脚の数を数字、翼が付いているものは「W」、手が付いているものは「H」で書きます。
　　　「2H(二足)」「2W(有翼二足)」「4(四足)」「4H(半人四足)」「4W(有翼四足)」「W(鳥類)」となります。
　　　命中判定を行って、当たれば部位も表示します。
　　　なお、種別指定を省略すると「二足」、「@」だけにすると全種別の命中部位を表示します。(コマンドを忘れた時の対応です)

　　　例）
　　　wh60　　　wh43@4W　　　WH65@

　　・『シノビガミ(忍神)』の各種表
　　　シーン表(ST)、ファンブル表(FT)、感情表(ET)、変調表(WT)、戦場表(BT)で所定のダイスを振り結果を表示します。
　　　弐で追加されたシーン表は、「都市シーン表(CST)」「館シーン表(MST)」「出島シーン表(DST)」です。
　　　参で追加されたシーン表は、「トラブルシーン表(TST)」「日常シーン表(NST)」「回想シーン表(KST)」です。

　　・『ダブルクロス』の判定　(xDX+y@c or xDXc+y)
　　　ダブルクロス2ndおよび3rdの判定コマンド。
　　　"(個数)DX(修正)@(クリティカル値)"もしくは"(個数)DX(クリティカル値)(修正)"で指定します。
　　　加算減算のみ修正値も付けられます。
　　　内部で読み替えています。

　　　例）
　　　10dx　　　10dx+5@8(OD tool式)　　　5DX7+7-3(疾風怒濤式)

　　・『ダブルクロス』の各種表
　　　ダブルクロス2ndおよび3rdの各種表を振って結果を出力します。
　　　・感情表(ET)
　　　　ポジティブとネガティブの両方を振って、表になっている側に○を付けて表示します。
　　　　もちろん任意で選ぶ部分は変更して構いません。

　　・『サタスペ』の判定　(nR>=x[y,z])
　　　サタスペ専用判定コマンドです。
　　　nが最大ロール回数、xが難易度、yが目標成功度、zがファンブル値です。
　　　yとzは省略可能です。

　　　例）
　　　10r>=7　　　8R>=7[3,3]　　　10r>=5[5]　　　8R>=7[,3]

　　・『サタスペ』の各種表
　　　サタスペは表が多いので、全ての表は網羅していません。
　　　コマンド末尾に半角で数字を入れると複数回一辺に引くことが出来ます。
　　　・タグ決定表　(TAGT)
　　　・情報イベント表　(〜IET)
　　　　　犯罪表(CrimeIET)、生活表(LifeIET)、恋愛表(LoveIET)、教養表(CultureIET)、戦闘表(CombatIET)となっています。
　　　・情報ハプニング表　(〜IHT)
　　　　　犯罪表(CrimeIHT)、生活表(LifeIHT)、恋愛表(LoveIHT)、教養表(CultureIHT)、戦闘表(CombatIHT)となっています。
　　　・命中判定ファンブル表　(FumbleT)
　　　・致命傷表　(FatalT)
　　　・アクシデント表　(AccidentT)
　　　・汎用アクシデント表　(GeneralAT)
　　　・その後表　(AfterT)
　　　・ロマンスファンブル表　(RomanceFT)
　　　・NPCの年齢と好みを一括出力　(NPCT)
　　　　　NPCの年齢区分(実年齢)、好み/雰囲気、好み/年齢を一括で引きます。
　　　　　使用しない部分は無視してください。

　　・『ArsMagica』のストレスダイス　(ArSx+y)
　　　アルスマギカのストレスダイス専用コマンドです。
　　　"ArS(ボッチダイス)+(修正)"です。判定にも使えます。Rコマンド(1R10+y[m])に読替をします。
　　　ボッチダイスと修正は省略可能です。(ボッチダイスを省略すると1として扱います)
　　　botchダイスの0の数が2以上の時は、数えて表示します。

　　　（注意！） botchの判断が発生したときには、そのダイスを含めてロールした全てのダイスを[]の中に並べて表示します。
　　　　例) (1R10[5]) ＞ 0[0,1,8,0,8,1] ＞ Botch!
　　　　最初の0が判断基準で、その右側5つがボッチダイスです。1*2,8*2,0*1なので1botchという訳です。

　　・『Ｔ＆Ｔ』専用ダイスコマンド
　　　・行為判定　(#nLV+x)
　　　　"#（レベル）Lv（修正値）"で振り、結果の成否と経験値を表示します。
　　　　レベルを半角?にすると(#?Lv+XX)成功する最高レベルを自動計算します。(経験値は1Lv成功としています)
　　　　判定時にはゾロ目を自動で振り足します。
　　　・バーサークとハイパーバーサーク　(nBS+x or nHBS+x)
　　　　"(ダイス数)BS(修正値)"でバーサーク、"(ダイス数)HBS(修正値)"でハイパーバーサークでロールできます。
　　　　最初のダイスの読替は、個別の出目はそのままで表示。
　　　　下から２番目の出目をずらした分だけ合計にマイナス修正を追加して表示します。

　　・『ダークブレイズ』専用コマンド
　　　・行為判定　(DBxy#n)
　　　　行為判定専用のコマンドです。
　　　　"DB(能力)(技能)#(修正)"でロールします。Rコマンド(3R6+n[x,y]>=m mは難易度)に読替をします。
　　　　クリティカルとファンブルも自動で処理されます。
　　　　DB@x@y#m と DBx,y#m にも対応しました。

　　　　例）
　　　　DB33　　　DB32#-1　　　DB@3@1#1　　　DB3,2　　　DB23#1>=4　　　3R6+1[3,3]>=4

　　　・掘り出し袋表　(BTx)
　　　　"BT(ダイス数)"で掘り出し袋表を自動で振り、結果を表示します。

　　　　例）
　　　　BT1　　　BT2　　　BT[1...3]

　　・『ガンドッグゼロ』の各種表
　　　・ダメージペナルティー表　(〜DPTx)
　　　　射撃(SDPT)、格闘(MDPT)、車両(VDPT)、汎用(GDPT)の各表を引くことが出来ます。
　　　　修正を後ろに書くことも出来ます。
　　　・ファンブル表　(〜FTx)
　　　　射撃(SFT)、格闘(MFT)、投擲(TFT)の各表を引くことが出来ます。
　　　　修正を後ろに書くことも出来ます。

　　・『ナイトウィザード』
　　　・判定　(nNW+m@x#y)
　　　　　ナイトウィザード判定用コマンドです。
　　　　　"(常時特殊能力含む基本値)NW(常時以外の特殊能力及び状態異常)@(クリティカル値)#(ファンブル値)"でロールします。
　　　　　Rコマンド(2R6m[n,m]c[x]f[y]>=t tは目標値)に読替されます。
　　　　　　クリティカル値、ファンブル値が無い場合は1や13などのあり得ない数値を入れてください。

　　　　　例）
　　　　　12NW-5@7#2　　1NW　　50nw+5@7,10#2,5

　　・『TORG』
　　　・判定　(TGm)
　　　　TORG専用の判定コマンドです。
　　　　"TG(技能基本値)"でロールします。Rコマンドに読替されます。
　　　　振り足しを自動で行い、20の出目が出たときには技能無し値も並記します。
　　　・各種表　"(表コマンド)(数値)"で振ります。
　　　　・一般結果表 成功度出力「RTx or RESULTx」
　　　　・威圧/威嚇 対人行為結果表「ITx or INTIMIDATEx or TESTx」
　　　　・挑発/トリック 対人行為結果表「TTx or TAUNTx or TRICKx or CTx」
　　　　・間合い 対人行為結果表「MTx or MANEUVERx」
　　　　・オーズ（一般人）ダメージ　「ODTx or ORDSx or ODAMAGEx」
　　　　・ポシビリティー能力者ダメージ「DTx or DAMAGEx」
　　　　・ボーナス表「BTx+y or BONUSx+y or TOTALx+y」 xは数値, yは技能基本値

　　・『ハンターズ・ムーン』
　　　・各種表
　　　　・遭遇表　「ET」
　　　　・都市ロケーション表　「CLT」
　　　　・閉所ロケーション表　「SLT」
　　　　・炎熱ロケーション表　「HLT」
　　　　・冷暗ロケーション表　「FLT」
　　　　・部位ダメージ決定表　「DLT」
　　　　・モノビースト行動表　「MAT」
　　　　・異形アビリティー表　「SATx」 (xは個数)
　　　　・指定特技(社会)表　　「TST」
　　　　・指定特技(頭部)表　　「THT」
　　　　・指定特技(腕部)表　　「TAT」
　　　　・指定特技(胴部)表　　「TBT」
　　　　・指定特技(脚部)表　　「TLT」
　　　　・指定特技(環境)表　　「TET」


　　・『迷宮キングダム』
　　　・判定　(nMK+m)
　　　　　迷宮キングダム判定用コマンドです。Rコマンドに読替されます。
　　　　　n個のD6を振って大きい物二つだけみて達成値を算出します。修正mも可能です。
　　　　　絶対成功と絶対失敗も自動判定します。
　　　・各種表
　　　　・生活散策表 LRT
　　　　・治安散策表 ORT
　　　　・文化散策表 CRT
　　　　・軍事散策表 ART
　　　　・才覚休憩表 TBT
　　　　・魅力休憩表 CBT
　　　　・探索休憩表 SBT
　　　　・武勇休憩表 VBT
　　　　・才覚ハプニング表 THT
　　　　・魅力ハプニング表 CHT
　　　　・探索ハプニング表 SHT
　　　　・武勇ハプニング表 VHT
　　　　・王国災厄表 KDT
　　　　・王国変動表 KCT
　　　　・王国変動失敗表 KMT
　　　　・痛打表 CAT
　　　　・致命傷表 FWT
　　　　・戦闘ファンブル表 CFT
　　　　・道中表 TT
　　　　・交渉表 NT
　　　　・感情表 ET
　　　　・お宝表１ T1T
　　　　・お宝表２ T2T
　　　　・お宝表３ T3T
　　　　・お宝表４ T4T
　　　　・お宝表５ T5T
　　　　・名前表 NAMEx (xは個数)

　　・『EarthDawn』
　　　・ステップダイス　(xEn+k)
　　　　ステップx、目標値n、カルマダイスkでステップダイスをロールします。
　　　　振り足しも自動。

　　・『エムブリオマシン』
　　　・攻撃判定　(EMt+m@c#f)
　　　　目標値t、修正値m、クリティカル値c(省略時は20)、ファンブル値f(省略時は2)で攻撃判定を行います。
　　　　命中した場合は命中レベルと命中部位も自動出力します。
　　　　Rコマンドに読み替えされます。
　　　・各種表
　　　　・命中部位表 HLT
　　　　・白兵攻撃ファンブル表 MFT
　　　　・射撃攻撃ファンブル表 SFT

　　・『ゲヘナ・アナスタシス』
　　　・戦闘判定　(nGAt+m)
　　　　ダイス数n、目標値t、修正値mで戦闘判定を行います。
　　　　幸運の助け、連撃増加値、闘技チットを自動処理します。
　　　・通常判定　(nGt+m)
　　　　ダイス数n、目標値t、修正値mで通常判定を行います。
　　　　幸運の助けを自動処理します。(連撃増加値、闘技チットを表示抑制します)


　３．四則計算(端数切捨て)　(C(x))
　　　経験値の計算などで四則計算を行うときにボットが計算してくれます。
　　　括弧内前処理を利用しているので、数式は必ず括弧「()」で囲んでください。
　　　もちろん入れ子にしても計算します。

　　　例）
　　　C(20+10)　　　C(10*5)　　　c(30-10/2)　　　c((10+10)*9)

　４．ポイントカウンタ
　　　イニシアティヴやHP,MP,衝動蓄積などセッション内で情報共有しておきたい数値を管理するための機能です。
　　　ポイントカウンタのコマンドは行頭のみ有効です。(スペースを開けると後ろにコメントを続けて書けます)

　　・ポイント登録　(#[名前:]タグn[/m])
　　　ポイントの登録はチャンネルとTalkの両方で行えます。
　　　チャンネルで登録した情報は、チャンネルに表示コマンドを入力すると一覧表示されます。
　　　Talkで登録した情報は、そのとき表示されません。これはGMがNPCのHPやMPを管理するときの機能です。

　　　1.現在値のみのポイント登録　(#タグn)
　　　　"#(タグ)(現在値)"で指定します。現在値は半角です。
　　　　タグはポイントを管理するときの名称です。
　　　　「DEX」や「イニチアティヴ」「HP」「MP」「衝動」「浸食率」など自由に設定できます。
　　　　使える文字は半角英数とアンダーバー(_)、それに文字コード変換に引っかからない全角文字です。
　　　　アンダーバー以外の半角記号(「+-/*」など)は使えないので注意してください。
　　　　なお、半角英字の大文字小文字は無視しますし、全角と半角文字は区別されます。

　　　　例）
　　　　#DEX12　　　#浸食率0

　　　2.現在値/最大値があるポイントの登録　(#タグn/m)
　　　　"#(タグ)(現在値)/(最大値)"で指定します。
　　　　最大値指定は半角のみ。タグや現在値については1.と同じです。

　　　　例）
　　　　#HP12/12　　　#衝動0/10

　　　3.キャラ識別名付きのポイント登録　(#名前:タグn[/m])
　　　　"#(識別名):(現在値)/(最大値)"で指定します。最大値がないものは省略できます。
　　　　識別名はキャラクターを管理するときの名前です。
　　　　これも文字に関してはタグと同様です。

　　　　例）
　　　　#Zako1:HP9/9　　　#orc1:HP10/10　　#商人:HP8/8

　　・ポイントの現在値を上下させる　(#[名前:]タグ+or-n)
　　　ポイントの現在値を加算、減算できます。
　　　識別名がないときは"#(タグ)(+or-)(修正値)"の形に、
　　　識別名があるときは"#(識別名):(タグ)(+or-)(修正値)"の形になります。
　　　変化するのは現在値だけで、最大値は変化しません。
　　　括弧内前処理が有効です。
　　　GMが敵の数値を変化させるときは、Talkでコマンドを入力するとチャンネルに表示されません。

　　　例）
　　　#HP-5　　　#衝動+3　　　#orc1:HP-(9-1)

　　・ポイントの一覧表示　(#OPEN![タグ])
　　　記録されているデータの表示コマンドです。
　　　タグは登録の時と同じものを使います。

　　　1.キャラクターの同じタグの情報を並べて表示　(#OPEN!タグ)
　　　　ポイントカウンタを登録しているチャンネルで"#OPEN!(タグ)"の形でコマンドを入力します。
　　　　すると、同じチャンネルに登録されている、同じタグを持つ情報がソートされて表示されます。

　　　　例）
　　　　#OPEN!HP　　　#OPEN!衝動

　　　　このとき、Talkで登録された「敵NPCの情報」は表示されません。
　　　　ソートは……
　　　　1.数字が大きい方が左
　　　　2.同じ時は減っている量が少ない方が左
　　　　3.それも同じ時は名前順
　　　　……で行われます。
　　　　これは一般的なパラメータで右に行くと危ないというソートイメージです。

　　　2.自分のキャラクターのパラメータ一覧表示　(#OPEN![タグ])
　　　　自分の管理しているキャラクターの全カウンタを一覧表示するときは、
　　　　Talkで"#OPEN!"と入力してください。
　　　　キャラクターごとに纏まってカウンターが表示されます。
　　　　特定のタグについてソートして表示して欲しいときは"#OPEN!(タグ)"です。
　　　　「今死にそうな敵はどれ？」とか聞かれたときには、これが便利です。

　　　　例）
　　　　#OPEN!　　　#OPEN!HP

　　・ポイントカウンタの識別名変更　(#RENAME!名前1->名前2)
　　　GMの演出で敵の正体が戦闘開始時に不明で戦闘中に正体がバレる事があります。
　　　そんなときに使うのがこれです。
　　　"#RENAME!(名前1)->(名前2)"で入力します。
　　　識別名を「名前1」から「名前2」に変更します。
　　　Talkでも入力できますが、変更できたメッセージはチャンネルに表示されます。
　　　敵が変身した時に使っても面白いかもしれませんね。

　　　例）
　　　#RENAME!商人->ボス　　　#RENAME!goblin1->orc

　　・ポイントカウンタの表示チャンネル指定
　　　ポイント登録を最初にチャンネルで行うと、自動的にそのチャンネルが表示チャンネルに設定されます。
　　　従ってPLは使う必要はありません。
　　　一方GMが敵のデータを大量登録する必要があって、しかも公開情報がまだない場合があると思います。
　　　チャンネル登録を行わないとデータ登録ができませんので、最初に登録しておくと安心です。
　　　デフォルトで"#HERE"になっています。
　　　なお、このコマンドでプロットやシークレットダイスの表示先として登録されます。

　５．カード機能
　　　ゴーストハンターなどのようにプレイヤーにカードを配るシステム用の機能です。
　　　通常カードを引くと、内容がプライベートメッセージで送られます。
　　　オープンで引いた場合は通常メッセージとなります。

　　　┌─────────────┬──────────┐
　　　│全カードのシャッフル　　　│c-shuffle　c-sh　　 │
　　　├─────────────┼──────────┤
　　　│カードを引く　　　　　　　│c-draw[n] 　　　　　│
　　　│ex. c-draw[5] 　　　　　　│ nは枚数(省略時1) 　│
　　　├─────────────┼──────────┤
　　　│オープンでカードを引く　　│c-odraw[n] 　　　　 │
　　　│　　　　　　　　　　　　　│c-opend[n] 　　　　 │
　　　│ex. c-odraw[3]　　　　　　│ nは枚数(省略時1)　 │
　　　├─────────────┼──────────┤
　　　│カードを選んで引く　　　　│c-pick[c[,c]]　　　 │
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13　 │
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13　 │
　　　│ex. c-pick[S1,H1,C1]　　　│　　　　　 J1〜J4　 │
　　　├─────────────┼──────────┤
　　　│誤って捨てたカードを戻す　│c-back[c[,c]]　　　 │
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13　 │
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13　 │
　　　│ex. c-back[S1]　　　　　　│　　　　　 J1〜J4　 │
　　　├─────────────┼──────────┤
　　　│場に置いたカードを戻す　　│c-back1[c[,c]]　　　│
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13　 │
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13　 │
　　　│ex. c-back1[S1] 　　　　　│　　　　　 J1〜J4　 │
　　　├─────────────┼──────────┤
　　　│カードを渡す　　　　　　　│c-pass[c[,c]]相手 　│
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13 　│
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13 　│
　　　│　　　　　　　　　　　　　│　　　　　 J1〜J4 　│
　　　│ex. c-pass[J1]PL1 　　　　│(省略時はランダム)　│
　　　├─────────────┼──────────┤
　　　│場のカードを相手に渡す　　│c-pass1[c[,c]]相手　│
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13 　│
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13 　│
　　　│　　　　　　　　　　　　　│　　　　　 J1〜J4 　│
　　　│ex. c-pass1[J1]PL1　　　　│(省略時はランダム)　│
　　　├─────────────┼──────────┤
　　　│カードを出す　　　　　　　│c-play[c[,c]] 　　　│
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13 　│
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13 　│
　　　│ex. c-play[C13,S8]　　　　│　　　　　 J1〜J4 　│
　　　├─────────────┼──────────┤
　　　│カードを場に出す　　　　　│c-play1[c[,c]]　　　│
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13 　│
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13 　│
　　　│ex. c-play1[C13,S8] 　　　│　　　　　 J1〜J4 　│
　　　├─────────────┼──────────┤
　　　│カードを捨てる　　　　　　│　　(talk可能)　　　│
　　　│　　　　　　　　　　　　　│c-discard[c[,c]]　　│
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13 　│
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13 　│
　　　│ex. c-discard[H1,D1]　　　│　　　　　 J1〜J4 　│
　　　│　　c-dis[H1,D1]　　　　　│カンマで複数指定可　│
　　　├─────────────┼──────────┤
　　　│場のカードを選んで捨てる　│c-discard1[c[,c]] 　│
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13 　│
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13 　│
　　　│ex. c-discard1[H1,D1] 　　│　　　　　 J1〜J4 　│
　　　│　　c-dis1[H1,D1] 　　　　│カンマで複数指定可　│
　　　├─────────────┼──────────┤
　　　│山札からめくってすぐ捨てる│c-milstone[n]　　　 │
　　　│　　　　　　　　　　　　　│c-mil[n] 　　　　　 │
　　　│ex. c-milstone[3] 　　　　│ nは枚数(省略時1)　 │
　　　├─────────────┼──────────┤
　　　│カードを相手の場に出す　　│c-place[c[,c]]相手　│
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13 　│
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13 　│
　　　│ex. c-place[C13,S8]PL1　　│　　　　　 J1〜J4 　│
　　　├─────────────┼──────────┤
　　　│場のカードを相手の場に出す│c-place1[c[,c]]相手 │
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13 　│
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13 　│
　　　│ex. c-place1[C13,S8]PL1 　│　　　　　 J1〜J4 　│
　　　├─────────────┼──────────┤
　　　│場のカードをタップする　　│c-tap1[c[,c]]相手 　│
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13 　│
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13 　│
　　　│ex. c-tap1[C13,S8]　　　　│　　　　　 J1〜J4 　│
　　　├─────────────┼──────────┤
　　　│場のカードをアンタップする│c-untap1[c[,c]]相手 │
　　　│　　　　　　　　　　　　　│ cはH1〜13,D1〜13 　│
　　　│　　　　　　　　　　　　　│　　S1〜13,C1〜13 　│
　　　│ex. c-untap1[C13,S8]　　　│　　　　　 J1〜J4 　│
　　　├─────────────┼──────────┤
　　　│捨て札を山に戻す　　　　　│c-rshuffle　c-rsh 　│
　　　├─────────────┼──────────┤
　　　│カードを相手に配る　　　　│c-deal[n]相手 　　　│
　　　│ex. c-deal[3]PL1　　　　　│ nは枚数(省略時1) 　│
　　　├─────────────┼──────────┤
　　　│カードを見てから相手に配る│c-vdeal[n]相手　　　│
　　　│ex. c-vdeal[3]PL1 　　　　│ nは枚数(省略時1) 　│
　　　├─────────────┼──────────┤
　　　│手札を見る　　　　　　　　│c-hand　　　　　　　│
　　　├─────────────┼──────────┤
　　　│PLの手札を見る　　　　　　│c-vhand 相手　　　　│
　　　├─────────────┼──────────┤
　　　│カード配置を見る　　　　　│c-check 　　　　　　│
　　　├─────────────┼──────────┤
　　　│全員の場札を捨てる　　　　│c-clean 　　　　　　│
　　　├─────────────┼──────────┤
　　　│カード配置復活の呪文　　　│c-spell[呪文] 　　　│
　　　│　　　　　　　　　　　　　│(省略時は呪文表示)　│
　　　│ex. c-spell 　　　　　　　│※ゲーム設定に注意　│
　　　└─────────────┴──────────┘

　　　このボットはカードファイルを作成することで、独自カードを使うゲームにも対応可能です。
　　　カードファイルの書き方はシンプルです。
　　　カード１枚あたり１行で、カード番号とタイトルを「->」で繋げたテキストファイルを作るだけです。
　　　文字コードはダイスボットに設定した文字コードと同じ物を使ってください。(デフォルトはShift-Jis)

　　　ex. 143->【やられてたまるか！】FEA

# エクセルでカード一覧を作成してCSV形式で書きだした後で、メモ帳やテキストエディタで読み込んで
# 「,(カンマ)」を「->」に置換すると簡単です。

　　　注意点は２つです。
　　　・カード番号は連番である必要はありませんが、ユニークな(重複しない)必要があります。
　　　　つまり、同じカードが３枚ある場合でも、番号は変えなければなりません。
　　　・タイトルに文字数制限はありませんが、表示が一行半角400文字までに制限してあります。
　　　　枚数を多く使うものでは、あまりに長くすると表示できなくなる可能性があります。


　６．マスターコマンド
　　　マスターコマンドはプライベートメッセージをダイスボットに送ることで、いくつかの設定を行うことが出来ます。

　　・マスターの設定　　　　　　　　　"Set Master->マスター名"
　　　マスターを設定しておくことで、いくつかの機能が追加・制限できるようになります。
　　　プライベートメッセージで"Set Master"と入力すると、入力した人をマスター
　　　として登録します。再度入力するとマスター登録が解除されます。
　　　また、マスターを誰かに移行する時には"Set Master->ニックネーム"と「プライベートメッセージ(Talk)」を送ると、指定したニックネームの人がマスターに設定されます。
　　　一度設定するとマスター以外からの変更を受け付けません。

　　・隠しダイスの自動通知
　　　マスター設定をするとマスターに自動的に結果が通知されます。

　　・上方無限ロールの境界値設定　　　"Set Upper->境界値"
　　　"Set Uppwer->境界値"で、上方無限ロールの境界値をあらかじめ設定しておくと、ロールの度に境界値を書かなくてもよくなります。
　　　なお結果表示の時には、確認のため境界値も表示されます。

　　・個数振り足しロールの回数制限設定　　　"Set Reroll->上限値"
　　　"Set Reroll->上限値"で、回数上限値をあらかじめ設定しておくと、個数振り足しロール時の振り足し回数を制限できます。

　　・ロールのソート設定　　　"Set Sort->モード番号"
　　　"Set Sort->モード番号"で、ソートを設定しておくと、ロール時の表示をソート(昇順)できます。
　　　・mode0　(ソート無し)
　　　　デフォルトに設定してあります。
　　　・mode1　(加算のみソート有り)
　　　　昇順にソートして表示します。
　　　・mode2　(バラバラ系のみソート有り)
　　　　昇順にソートして表示します。
　　　・mode3　(加算とバラバラ系どちらもソート有り)
　　　　昇順にソートして表示します。

　　・モード変更　　　　　　　　　　　"Set ViewMode->モード番号"
　　　"Set ViewMode->モード番号"とプライベートメッセージを送ると表示モードを変更できます。
　　　マスター設定すると変更がマスターからだけに制限されます。
　　　・mode0　(最終結果モード)
　　　　ダイスの合計ロール(xDn)やレーティング表ロールの時に、個々のダイスの目を表示しなくなります。
　　　・mode1　(ロール結果モード)
　　　　加算ロールや上方無限ロールの時に、ダイスロールごとの合計値のみ表示します。
　　　　デフォルトに設定してあります。
　　　・mode2　(ダイス目モード)
　　　　個々のダイスの目を全て表示します。
　　　　デバッグ用およびダイス目にこだわりがある(詳細表示された方が盛り上がる)人用。

　　・送信モード変更　　　　　　　　　　"Set SendMode->モード番号"
　　　"Set SendMode->モード番号"とプライベートメッセージを送ると表示モードを変更できます。
　　　マスター設定すると変更がマスターからだけに制限されます。
　　　・mode0　(msgモード)
　　　　ボットからの返事がmsg(通常のメッセージ)で送信されます。
　　　　Noticeによるメッセージ受信に不具合のあるIRCクライアントを使っている場合は、こちらで使用してください。
　　　・mode1　(noticeモード)
　　　　ボットからの返事がnotice(お知らせ)で送信されます。
　　　　他のボットやマクロが反応しないので安全です。
　　　　デフォルトに設定してあります。

　　・レーティング表選択　　　　　　　　"Set RatingTable->モード番号"
　　　"Set RatingTable->モード番号"とプライベートメッセージを送るとレーティング表を変更できます。
　　　マスター設定すると変更がマスターからだけに制限されます。
　　　・mode0　(旧版準拠)
　　　　キーナンバー31〜33のダイス12のレーティングが11になっている表を使います。
　　　　デフォルトに設定してあります。
　　　・mode1　(完全版準拠)
　　　　キーナンバー31〜33のダイス12のレーティングが10になっている表を使います。
　　　・mode2　(2.0ルールブックII準拠)
　　　　旧版にキーナンバー51〜100までが追加されています。

　　・カードモード変更　　　　　　　　　"Set CardPlace->モード番号"
　　　"Set CardPlace->モード番号"とプライベートメッセージを送るとカードモードを変更できます。
　　　マスター設定すると変更がマスターからだけに制限されます。
　　　・mode0　(カード置き場無しモード)
　　　　カードを場に置く必要が無いゲームの時に。プレイするとすぐに捨て札になります。
　　　　デフォルトに設定してあります。
　　　・mode1　(カード置き場ありモード)
　　　　表にして場に出すと効果があるゲームなどに。プレイすると表にして場に出されます。
　　　　c-cleanかc-shuffleコマンドを使うと場のカードが無くなります。

　　・呪文モード変更　　　　　　　　　"Set ShortSpell->モード番号"
　　　"Set ShortSpell->モード番号"とプライベートメッセージを送ると呪文モードを変更できます。
　　　マスター設定すると変更がマスターからだけに制限されます。
　　　・mode0　(通常呪文モード)
　　　　全員の手札を呪文にします。
　　　・mode1　(短縮呪文モード)
　　　　全員の手札を呪文にしますが、重複カードを削除して短く切りつめます。
　　　　デフォルトに設定してあります。

　　・タップモード変更　　　　　　　　　"Set Tap->モード番号"
　　　"Set Tap->モード番号"とプライベートメッセージを送ると呪文モードを変更できます。
　　　マスター設定すると変更がマスターからだけに制限されます。
　　　・mode0　(タップ不可モード)
　　　　場札のタップを扱いません。
　　　　デフォルトに設定してあります。
　　　・mode1　(タップ可能モード)
　　　　場札のタップが可能です。

　　・カードセット読み込み　　　　　　　　"Set CardSet->ファイル名"
　　　"Set CardSet->ファイル名"とプライベートメッセージを送るとカードセットを読み込みます。
　　　マスター設定すると変更がマスターからだけに制限されます。
　　　タップモードやカードモードなどは変更されませんので、新規にゲームモードをプログラム追加するのをお勧めします。

　　・ゲーム設定　　　　　　　　　　　"Set Game->ゲーム識別名"
　　　"Set Game->識別名"とプライベートメッセージを送ると、ゲーム設定を行うことが出来ます。
　　　・Cthulhu　(クトゥルフの呼び声　および　クトゥルフ神話TRPG)
　　　　　クリティカル(決定的成功)、スペシャル、ファンブル(致命的失敗)の自動判定を行います。
　　　　　抵抗ロールのコマンドを追加。
　　　・Hieizan　(クトゥルフ神話TRPG「比叡山炎上」)
　　　　　大成功、自動成功、失敗、自動失敗、大失敗の自動判定を行います。
　　　・RuneQuest　(ルーンクエスト)
　　　　　クリティカル、エフェクティブ(効果的成功)、ファンブルの自動判定を行います。
　　　・Elric!　(エルリック！)
　　　　　貫通、クリティカル、ファンブルの自動判定を行います。
　　　・Chill　(CHILL)
　　　　　コロッサル、ハイ、ミディアム、ライト、ファンブルの自動判定を行います。
　　　　　SRコマンドでストライク・ランクからダメージを自動計算します。
　　　・RoleMaster　(ロールマスター)
　　　　　上方無限ロールの境界値を96にセットします。
　　　・ShadowRun　(シャドウラン)
　　　　　上方無限ロールの境界値を6にセットします。
　　　・ShadowRun4　(シャドウラン第４版)
　　　　　個数振り足しロールの閾値を6にセット、バラバラロールの目標値を5以上にセットします。
　　　　　BコマンドとRコマンド時に、グリッチの表示を行います。
　　　・Pendragon　(ペンドラゴン)
　　　　　クリティカル、成功、失敗、ファンブルの自動判定を行います。
　　　・SwordWorld　(ソードワールド)
　　　　　自動的成功、成功、失敗、自動的失敗の自動判定を行います。(レーティング表も実装済み)
　　　・SwordWorld2.0　(ソードワールド2.0)
　　　　　自動的成功、成功、失敗、自動的失敗の自動判定を行います。(0〜80までのレーティング表も実装済み)
　　　・Arianrhod　(アリアンロッド)
　　　　　クリティカル、ファンブルの自動判定を行います。(クリティカル時の追加ダメージも表示されます)
　　　・Infinite Fantasia　(無限のファンタジア)
　　　　　失敗、成功レベルの自動判定を行います。
　　　・WARPS　(ワープス)
　　　　　失敗、成功度の自動判定を行います。
　　　・DemonParasite　(デモンパラサイト)
　　　　　失敗、成功、効果的成功、致命的失敗の自動判定を行います。
　　　　　urgeコマンドで衝動表をロールできます。
　　　　　鬼御魂の衝動表にも対応。
　　　・ParasiteBlood　(パラサイトブラッド)
　　　　　失敗、成功、効果的成功、致命的失敗の自動判定を行います。
　　　　　urgeコマンドで衝動表をロールできます。
　　　・Gundog　(ガンドッグ)
　　　　　失敗、成功、クリティカル、ファンブルとロールの達成値の自動判定を行います。
　　　　　nD9ロールも対応。
　　　・GundogZero　(ガンドッグゼロ)
　　　　　失敗、成功、クリティカル、ファンブルとロールの達成値の自動判定を行います。
　　　　　nD9ロールにも対応。
　　　　　ダメージペナルティー表とファンブル表もロールできます。
　　　・Tunnels&Trolls　(トンネルズ＆トロールズ)
　　　　　失敗、成功、自動失敗の自動判定とゾロ目の振り足し経験値の自動計算を行います。
　　　　　SAVEの難易度を「レベル」で表記することが出来ます。
　　　　　例えば「2Lv」と書くと「25」に置換されます。
　　　　　判定時以外は悪意ダメージを表示します。
　　　　　バーサークとハイパーバーサーク用に専用コマンドが使えます。
　　　・NightmareHunterDeep　(ナイトメアハンター=ディープ)
　　　　　加算ロール時に６の個数をカウントして、その４倍を自動的に加算します。
　　　　　(出目はそのまま表示で合計値が6→10の読み替えになります)
　　　・Warhammer　(ウォーハンマーFRP)
　　　　　成功度、失敗度表示とクリティカル表の実装。
　　　　　命中判定用コマンドは成功すると命中部位を表示します。
　　　　　WHpxコマンドでクリティカル表が引けます。
　　　・PhantasmAdventure　(ファンタズムアドベンチャー)
　　　　　成功、失敗、決定的成功、決定的失敗の表示とクリティカル・ファンブル値計算の実装。
　　　・Chaos Flare　(カオスフレア)
　　　　　失敗、成功(差分値の計算も)の自動判定を行います。
　　　　　ファンブル時は達成値を-20します。
　　　　　カードセットをジョーカー２枚のデッキ２セットに拡張します。
　　　　　復活の呪文を使うときは、先にゲーム設定を行う必要があります。
　　　・CthulhuTech　(クトゥルフ・テック)
　　　　　テストのダイス計算を実装。
　　　　　成功、失敗、クリティカル、ファンブルの自動判定。
　　　　　コンバットテスト(防御側有利なので「>=」ではなく「>」で入力)の時はダメージダイスも表示。
　　　・TokumeiTenkousei　(特命転攻生)
　　　　　「1の出目でEPP獲得」、判定時の「成功」「失敗」「ゾロ目で自動振り足し」を自動判定。
　　　・ShinobiGami　(忍神「シノビガミ」)
　　　　　判定時に成功、失敗、ファンブル、スペシャルの自動表示
　　　　　シーン表、ファンブル表、感情表、変調表、戦場表の表示コマンドを実装。
　　　・Double Cross　(ダブルクロス2nd,3rd)
　　　　　判定時、全ての出目が1の時ファンブルを自動判定。
　　　　　デフォルトでクリティカル値を10に設定。
　　　　　判定専用コマンド「DX」と感情表の表示コマンドを実装。
　　　・Satasupe　(サタスペ)
　　　　　判定専用コマンドと各種表を実装。
　　　・ArsMagica　（アルスマギカ）
　　　　　ストレスダイス専用コマンドを実装。
　　　　　botchや1の振り足し処理も自動で行います。
　　　・DarkBlaze　（ダークブレイズ）
　　　　　判定専用コマンド「DB」と掘り出し袋表示コマンド「BT」も実装されています。
　　　　　判定コマンドはクリティカル・ファンブル表示も自動で行います。
　　　・NightWizard　（ナイトウィザード）
　　　　　判定専用コマンド「NW」が実装されています。
　　　　　判定コマンドはクリティカル・ファンブル表示も自動で行います。
　　　・TORG　（トーグ）
　　　　　判定専用コマンド「TG」が実装されています。
　　　　　判定コマンドは振り足しを自動で行い、技能の有無で結果が違うときは並記します。
　　　　　各種表コマンド「RT」「IT」「TT」「MT」「DT」「ODT」「BT」が実装されています。
　　　・HuntersMoon　（ハンターズ・ムーン）
　　　　　判定時にクリティカルとファンブルを自動判定します。
　　　　　各種表コマンド「ET」「CLT」「SLT」「HLT」「FLT」「DLT」「MAT」「SATx」が実装されています。
　　　・MeikyuKingdom　（迷宮キングダム）
　　　　　判定時に絶対成功と絶対失敗を自動判定します。
　　　　　各種表コマンドを実装しています。
　　　・EarthDawn　（アースドーン）
　　　　　ステップダイスに対応。
　　　・EmbryoMachine　（エムブリオマシン）
　　　　　攻撃判定でクリティカルとファンブルを自動判定し、命中した際には命中レベルと命中部位を自動表示します。
　　　　　ファンブル時にはファンブル表を自動表示します。
　　　　　各種表を実装しています。
　　　・GehennaAn　（ゲヘナ・アナスタシス）
　　　　　戦闘判定と通常判定に対応。幸運の助け、連撃増加値(戦闘判定)、闘技チット(戦闘判定)を自動表示します。

　　　・None　(ゲーム設定解除)
　　　　ゲーム設定を解除します。
　　　　トランプは１セット＋ジョーカー１枚になります。


4.更新履歴：
Ver1.2.23 2010/12/11
・ハンターズムーンの部位表の誤字を修正。(ご指摘いただいた方が不明なので Thanks! 竹流さん)
・ハンターズムーンに指定特技表の追加。(Thanks! yutaroさん)

Ver1.2.22 2010/09/06
・ゲヘナ・アナスタシスに対応。(Thanks! dvampさん)

Ver1.2.21 2010/07/28
・鬼御魂の衝動表を追加。(Thanks! B.Wさん)
・エムブリオマシンに対応。(Thanks! B.Wさん)
・パラサイトブラッドに対応。

Ver1.2.20 2010/07/18
・アースドーンのステップダイスに対応。(Thanks! akamanbowさん & 竹流さん)

Ver1.2.19 2010/06/15
・D66ロジックに付随するダイスコマンド解釈ロジックのバグ修正。(Thanks! 竹流さん)

Ver1.2.18 2010/06/11
・迷宮キングダムに対応。(Thanks! めルヘんさん)
・D66の動作ロジックを変更。

Ver1.2.17 2010/04/23
・シノビガミ参で追加されたシーン表を引くコマンドの追加。(Thanks! あずさん)

Ver1.2.16 2010/02/17
・TGコマンドの読替ロジックの不具合修正。
・ハンターズ・ムーンに対応。

Ver1.2.15 2010/02/15
・DXコマンドの読替ロジックの不具合修正。

Ver1.2.14 2010/02/15
・TORGに対応。(Thanks! 竹流さん)

Ver1.2.13 2010/01/29
・ソードワールドのレーティング表に出目修生を実装。

Ver1.2.12 2010/01/18
・ナイトウィザードの判定コマンドの表記を変更。

Ver1.2.11 2010/01/18
・ナイトウィザードに対応。

Ver1.2.10 2010/01/13
・ガンドッグゼロのダメージペナルティー表とファンブル表に対応。

Ver1.2.9 2010/01/06
・ダークブレイズの判定でクリティカル処理が間違っていた不具合の修正。
・ダークブレイズの判定コマンドの書式違いを追加。

Ver1.2.8 2010/01/05
・ダークブレイズに対応。判定処理と掘り出し袋表の表示コマンドを実装。

Ver1.2.7 2009/11/28
・カオスフレアでファンブル時に達成値-20する機能を実装。

Ver1.2.6 2009/11/08
・シノビガミ弐の追加シーン表を実装。

Ver1.2.5 2009/10/04
・T&T用にバーサークとハイパーバーサーク用コマンドを実装。

Ver1.2.4 2009/09/28
・ArSコマンドの不具合修正。

Ver1.2.3 2009/09/28
・サタスペ対応
・ArsMagica対応
・DXコマンドの読替をOD tool式と疾風怒濤式の両方に対応。

Ver1.2.2 2009/08/11
・ダブルクロス用判定コマンドのバグフィクス。

Ver1.2.1 2009/08/09
・ダブルクロス3rdの感情表自動表示コマンドを実装。(Thanks! 竹流さん)

Ver1.2.0 欠番

Ver1.1.23 2009/07/26
・ポイントカウンタ機能の実装

Ver1.1.22 2009/07/22
・個数振り足しロールのバグフィクス。
・ダブルクロス用モードの追加。

Ver1.1.21 2009/07/06
・デモンパラサイトの「新衝動表」「誤作動表」「ミュータント衝動表」の実装。

Ver1.1.20 2009/07/05
・ランダムの数を埋め込むコマンド実装。

Ver1.1.19 2009/06/15
・シノビガミ変調表の不具合修正。

Ver1.1.18 2009/06/10
・プロットの出力に、入力者のNickを入れるのを忘れていたバグの修正

Ver1.1.17 2009/06/10
・シノビガミ、戦場表の追加と各種表の表示抑制の不具合修正。

Ver1.1.16 2009/06/09
・シノビガミ対応
・ソードワールドとWARPSの行為判定のクリティカル、ファンブル表示のバグを修正。

Ver1.1.15 2009/05/30
・ダイスコマンド判定部分のサブルーチン化。
・コメントの追加。

Ver1.1.14 2009/05/29
・クローズドダイスの名称をシークレットダイスに戻し、マスターへの表示を削除した。
・シークレットダイスの出目の公開コマンドを実装。

Ver1.1.13 2009/03/05
・ソードワールド系のレーティングでクリティカル値未設定の時のクリティカル値を10に変更。

Ver1.1.12 2009/03/03
・クトゥルフ神話TRPGの「抵抗ロール」用コマンドの不具合修正。

Ver1.1.11 2009/03/03
・クトゥルフ神話TRPGの「抵抗ロール」用コマンドを追加。

Ver1.1.10 2009/02/22
・動作確認が済んだので、正式版として公開。

Ver1.1.10β4 2009/02/22
・特命転攻生の振り足しのロジックを修正。

Ver1.1.10β3 2009/02/22
・特命転攻生の振り足しのミスを修正。
・判定以外でも振り足してしまうバグを修正。

Ver1.1.10β2 2009/02/22
・特命転攻生のEPP取得のミスを修正。

Ver1.1.10β 2009/02/21
・特命転攻生に対応
・WHの命中判定が動かなくなっていたのを修正。
・T&Tの悪意ダメージを表示するようにした。
・長くなった内部ルーチンをサブルーチンに切り分けた。
・コメントの表記を変えた。

Ver1.1.9 2009/01/28
・どどんとふ用に乱数シードを起動時に渡すオプションを追加。

Ver1.1.8 2009/01/27
・ソードワールドのレーティング処理で[]でクリティカル値を指定したときの、読みとりミスの修正。

Ver1.1.7 2009/01/25
・メルセンヌ・ツイスタのインストール状態を判断して自動的にロードするようにした。

Ver1.1.6 2009/01/10
・成功失敗判定でソードワールド2.0をソードワールドの中に含ませるのを忘れていたバグを修正。

Ver1.1.5 2008/12/24
・一部のサーバで使われているPerlで正規表現中の/iオプションで文字クラス内が評価されないのに対応。

Ver1.1.4 2008/12/04
・CthulhuTechのテストダイスでd10以外は単なる加算ロールに抑制。

Ver1.1.3 2008/12/03
・CthulhuTechのテストダイス計算を実装。

Ver1.1.2 2008/11/20
・レーティング処理のバグを修正。

Ver1.1.1 2008/11/17
・追加カードセットの読み込み処理のバグを修正。

Ver1.1.0 2008/09/23
・Perl5.10対策にコードを追加。
　メルセンヌツイスタのモジュール名が変わったため、(使う側からみて)モジュール変更と同等という判断でVer1.1に移行。

Ver1.0.28 2008/09/12
・IRCサーバとの通信に使う文字コードが出力時だけ'iso-2022-jp'に固定されていたバグを修正。

Ver1.0.27 2008/08/26
・レーティング表でボーナスが複数指定すると読み飛ばすバグを修正。

Ver1.0.26 2008/08/21
・ソードワールド2.0の威力表100までに対応。

Ver1.0.25 2008/08/06
・ソードワールド2.0の威力表80までに対応。
・レーティング表の指定を 0=旧文庫版, 1=完全版, 2=SW2.0ルールブック2に変更した。
・ゲーム設定にソードワールド2.0を追加。

Ver1.0.24 2008/05/17
・WHコマンドで未対応種別を入力したときに対応種別一覧で表示する部分が抑制されていたバグを修正した。

Ver1.0.23 2008/03/23
・SR4モード時に、SR4用ボットのSコマンドをBに読み替えて処理する機能の実装。
・終了時のメッセージを先頭で定義出来るようにした。

Ver1.0.22 2008/03/22
・ゴーストハンターの恐怖判定用にPLの手札を見る機能(c-vhand)を実装した。
・ボットのユーザ名がVerUpしてなかった不具合の修正。

Ver1.0.21 2008/03/22
・ゴーストハンターの恐怖判定用にカードを見てから配る機能(c-vdeal)を実装した。

Ver1.0.20 2008/03/01
・ナイトメアハンター=ディープ用判定表示を専用ダイス準拠にした。

Ver1.0.19 2008/02/23
・カード機能の指定漏れを修正。

Ver1.0.18 2008/02/22
・汎用カード用カードセットの文字コードを、ダイスボットの文字コードと一致させるようにした。
・カード関係のコードを公開用に若干書き直して実装。使用上は変更無し。
・カオスフレアを復活。

Ver1.0.17 2008/02/10
・NHDのD6の目の読み替えロジックの制限強化。

Ver1.0.16 2008/02/03
・WHpxコマンド及びWHx@tコマンドの表示抑制を強化。

Ver1.0.15 2008/02/03
・私家版から未改修のカード機能を抜き出して暫定公開版とした。(Ver.No.は私家版と同一とした)
・カードを使うDeadlandsとカオスフレアのゲーム設定を削除。
・ウェルカムメッセージ機能のコメントアウト。

5.謝辞
　私がPerlのダイスボットを作り始めたきっかけは http://www.new-f.com/ にて「いつき」様より配布されているものの改造でした。
　多くのコマンドや出力表示に名残があるはずです。
　ボットを公開している「いつき」様に深い謝辞を表します。
　いつき様がPerlBotを公開していなければ、私がPerlを覚えることは無かったでしょう。

6.著作権表記と免責事項
　修正BSDライセンスに準拠します。

=====
「ボーンズ＆カーズ(bcdice.pl)」Copyright (c) Faceless
All rights reserved.

　ソースコード形式かバイナリ形式か、変更するかしないかを問わず、以下の条件を満たす場合に限り、再頒布および使用が許可されます。

    * ソースコードを再頒布する場合、上記の著作権表示、本条件一覧、および下記免責条項を含めること。
    * バイナリ形式で再頒布する場合、頒布物に付属のドキュメント等の資料に、上記の著作権表示、本条件一覧、および下記免責条項を含めること。
    * 書面による特別の許可なしに、本ソフトウェアから派生した製品の宣伝または販売促進に、作者の名前またはコントリビューターの名前を使用してはならない。 

　本ソフトウェアは、著作権者およびコントリビューターによって「現状のまま」提供されており、明示黙示を問わず、商業的な使用可能性、および特定の目的に対する適合性に関する暗黙の保証も含め、またそれに限定されない、いかなる保証もありません。
　著作権者もコントリビューターも、事由のいかんを問わず、損害発生の原因いかんを問わず、かつ責任の根拠が契約であるか厳格責任であるか（過失その他の）不法行為であるかを問わず、仮にそのような損害が発生する可能性を知らされていたとしても、本ソフトウェアの使用によって発生した（代替品または代用サービスの調達、使用の喪失、データの喪失、利益の喪失、業務の中断も含め、またそれに限定されない）直接損害、間接損害、偶発的な損害、特別損害、懲罰的損害、または結果損害について、一切責任を負わないものとします。 
=====


7.未公開版更新履歴
　参考のため未公開版の更新履歴を記載しておきます。
　使いながら継ぎ足し継ぎ足し作っているのが良く判るかと思います(滝汗

7.1.私家版更新履歴
Ver1.0.15 2008/01/18
・衝動表の出力で、誰の処理かを併記するようにした。

Ver1.0.14 2008/01/03
・WHFRPモードのWHコマンドで、ダイス目をひっくり返す処理を忘れていた。
・同じくWHコマンドで、「部位指定無し=二足」「@のみ=全部位」にコマンド変更した。

Ver1.0.13 2008/01/03
・起動オプションでIRCサーバの文字コードを変更出来るようにした。

Ver1.0.12 2008/01/01
・ウォーハンマーモード時にWHコマンドで命中判定を出来るようにした。
　この際に相手の種別を指定すると、命中部位を表示するようにした。

Ver1.0.11 2008/01/01
・ウォーハンマーモード時に判定成功時に自動的に命中部位も表示するようにした。

Ver1.0.10 2007/12/09
・Cコマンドの入力が拾えない時があるバグを修正。

Ver1.0.9 2007/12/02
・ゲームモードにファンタズムアドベンチャーを実装。

Ver1.0.8 2007/11/30
・ウォーハンマーFRPのクリティカル表処理を一部変更。

Ver1.0.7 2007/11/11
・ゲームモードにウォーハンマーFRPを実装。(Thanks! なかやまさきさん)

Ver1.0.6 2007/11/10
・SR4モードにグリッチ処理を実装。

Ver1.0.5 2007/09/30
・IRCのNick判定正規表現が不十分だったバグを修正。

Ver1.0.4 2007/09/23
・カードを山札からめくってすぐ捨てる「c-milstone」コマンド実装。

Ver1.0.3 2007/09/16
・カード関係の機能強化。
　汎用カードも使用出来るようにした(カードセットの読み出しと番号と内容の対照ルーチンの実装)

Ver1.0.2 2007/09/10
・dxと記述した時に自動で「1dx」になるように置きかえるようにした。

Ver1.0.1 2007/08/30
・NHDの結果表示を変更した。

Ver1.0.0 2007/08/16
・コードをほぼ新規に書き直してリニューアル。
・ナイトメアハンター=ディープとSR4に対応。

7.2.旧版「dicebot.pl」更新履歴
R4.1.9　2007/08/11
・ダイスロールが規定の面数よりも大きかったときの処理を強化した。

R4.1.8　2007/06/20
・カードコマンドのシークレット処理の出力を「最初にドローしたチャンネル」に限定。
・オープンドロウのバグフィクス

R4.1.7　2007/06/19
・カードコマンドに復活の呪文の短縮機能を実装。
・タップ処理、アンタップ処理を実装した。

R4.1.6　2007/06/11
・カードコマンドにさらに機能追加。
　相手の場に出したり、場札から場札に移動したりする操作を追加。

R4.1.5　2007/06/07
・カードコマンドに機能追加。
　場に出す事が出来るようになりました。またc-checkで場のカードを表示します。

R4.1.4　2007/04/03
・デモンパラサイトの衝動表を公式エラッタ通りに修正。

R4.1.3　2007/02/11
・レーティング表のクリティカル指定を「@x」でも出来るようにした。
・Ｔ＆Ｔ関係のバグを修正。

R4.1.2　2007/01/29
・Ｔ＆Ｔに対応し、ゾロ目で振り足しするようにした。

R4.1.1　2007/01/22
・バラバラ以外のダイス表示もソートできるようにした。

R4.1.0　2007/01/21
・バラバラダイス表示をソートする設定を付けた。

R4.0.7　2007/01/08
・URGEコマンドの間にスペースを挟むミスを受け付けるようにした。

R4.0.6　2006/12/20
・サーバがメッセージ・オブ・ザ・デイ(MOTD)を登録していない場合に対応した。
・ゲーム設定に応じて、d66ロールを2B6に自動的に差し替えるようにした。

R4.0.5　2006/10/09
・デモンパラサイトなどのnDロールを自動的にnD6に変換するようにした。

R4.0.4　2006/10/01
・ガンドッグのnD9ロールのバグを修正。

R4.0.3　2006/09/22
・ゲーム設定にガンドッグを追加。

R4.0.2　2006/09/13
・トピック周りのBugFix

R4.0.1　2006/08/20
・各種ゲーム専用処理を該当ゲームに設定されていないときに暴発しないようにした。
・Perlが5.8以降かチェックするようにした。
・細かいBugFix。

R4.0.0　2006/08/19
・多バイト文字モジュールをJcodeからEncodeに変更しました。
　インストールがちょびっと楽になりました。

R3.1.1　2006/08/18
・デモンパラサイトの衝動表を出力するコマンドを追加した。

R3.1.0　2006/08/06
・加算ダイス処理の表示モード2の出力を変更。出力が変わったのでV3.1系に移行。

R3.0.22　2006/08/04
・加算ダイス処理のコマンド判定部分を強化。

R3.0.21　2006/08/03
・ダイス処理の機能強化(3.0.20も同じ)

R3.0.19　2006/07/31
・ダイスルーチン呼び出しのバグを修正。

R3.0.18　2006/07/22
・上方無限ロールのバグを修正。
・イタズラ防止にダイスの個数を200個まで、面数を1000までに制限した。

R3.0.17　2006/07/20
・内部の変数を見直し。リファクタリングの時期か？

R3.0.16　2006/07/15
・オンラインヘルプメッセージを一部変更。
・talkで「c-hand」コマンドを受け付けるようにした。

R3.0.15　2006/07/13
・「デモンパラサイト」の成功判定に対応した。

R3.0.14　2006/06/24
・「WARPS」の成功判定に対応した。

R3.0.13　2006/05/21
・「比叡山炎上」の成功判定に対応した。

R3.0.12　2006/04/16
・カードを間違って捨てた(プレイした)時の「待ったコマンド(c-back)」を追加しました。
　捨て札からカードを回収できます。

R3.0.11　2006/04/11
・括弧内前処理で「最初の値がマイナスだとプラスと評価されてしまうバグ」を修正。

R3.0.10　2006/01/18
・トランプセットの設定を戻す機能入れるの忘れていたので追加。(笑

R3.0.9　2006/01/16
・ゲーム設定に「カオスフレア」を実装。
　トランプを２セットに拡張して使用する。
・トランプ機能のシャッフルに「捨てた枚数が0にならない」バグを発見。修正。

R3.0.8　2005/12/31
・カード配置の復活の呪文を実装。

R3.0.7　2005/12/24
・カードを渡す時に、カードを指定しないとランダムに１枚配るようにした。

R3.0.6　2005/12/15
・細かいバグフィクス。
・カードを渡す相手の指定を大文字小文字の区別なく受け付けるようにした。

R3.0.5　2005/12/15
・現在のカードの枚数配置を出力する機能を追加。
・カードを一枚渡す機能を追加した。
・カードをデッキから選んで引く機能を追加した。
・カードを誰かにn枚配る機能を追加した。

R3.0.4　2005/11/24
・Chillのストライク・ランクからダメージを求める機能を追加。

R3.0.3　2005/11/21
・ソードワールドのレイティング表が、完全版が誤植という公式発表があったのを確認。
　デフォルトを文庫版準拠とした。

R3.0.2　2005/11/06
・正規表現の扱いを変えて若干速度向上。
・括弧内演算の数値がゼロになると正しく動作していない不具合を修正。

R3.0.1　2005/10/27
・他者がキックされたときに、その部屋にメッセージを出せないバグがあったので修正。

R3.0.0　2005/10/24
・Jcode.plをJcode.pmのモジュールに置き換えることにした。

R2.2.7　2005/09/02
・レーティング表が間違っている箇所を数カ所発見。修正。(文庫版初版と完全版初版で相互参照、確認)
・レーティング表が完全版以降変わっているのをベーシックでも確認、
　誤植じゃないのが判ったので完全版準拠を正式に採用し、設定で古いレーティング表も選べるようにした。

R2.2.6　2005/09/01
・クトゥルフ神話TRPGの成功度判定を修正。
　決定的成功と致命的失敗は武器技能使用時にしか使われないので、
決定的成功の時もスペシャルの表示を行うようにした。

R2.2.5　2005/08/29
・加算ダイスロールで条件式を入れたときに常に成功失敗を表示するようにした。

R2.2.4　2005/08/23
・理論上、ダイスの次の目が計算で予測出来る(=完全にランダムにならない)ので、
発言の度に捨てダイスを振ってちょっとだけランダム性を向上させました。

R2.2.3　2005/08/11
・出力が長くなりすぎる結果を単純に廃棄するとクリティカル等で奇跡的に
ダイスが回ったときの結果が出ないことに気が付きました。
　というわけで制限を400文字にすると同時に、回りすぎたときは短縮メッセージを
出すように改造。

R2.2.2　2005/08/10
・出力が長くなりすぎるとIRCサーバから落とされる事が判明。
　上限が全角220文字なようですので、ボットは出力が200文字を超える入力を
イタズラとみなして廃棄する事にしました。

R2.2.1　2005/08/08
・MuriChatでNoticeが短時間に連続すると受け取れなくなるバグがあることを発見。
　表示モード変更でNoticeとPrivmsgを変更できるようにした。
　表示フォーマットもダイスボットで拾いにくい物に再度変更。

R2.2.0　2005/08/08
・表示メッセージをすべてnoticeで出力、すべてのボットやマクロで出力を拾えないようにした。
　フォーマットは使い慣れた以前の物に戻した。(笑

R2.1.0　2005/08/08
・表示メッセージを変えて、ボットの出力したダイスコマンドを別のボットで拾えないようにした。

R2.0　2005/08/07
・乱数の発生に「メルセンヌ・ツイスター」というパッケージを採用しました。
　これで乱数が飛躍的に自然っぽくなってるはずです。
　必要なパッケージが増えたのでVerを２に移行。

R1.35　2005/07/07
・jcode.plの使い方を変更。
　いい加減今のJcodeとかに移行しないといけない気もしますが...。(滝汗

R1.34　2005/06/21
・kick時に現在入室しているチャンネルリストを処理するルーチンを実装。

R1.33　2005/06/08
・個数振り足しロールの振り足し回数上限を設定可能にした。(無限も可能)

R1.32　2005/04/24
・レーティング表のボーナスを複数表記可能にした。

R1.31　2005/04/17
・引き算ルーチンのバグフィクス。

R1.30　2005/03/31
・無限のファンタジアの成功度レベル計算に対応。

R1.29　2005/03/29
・四則計算代行を追加。

R1.28　2005/03/27
・アリアンロッドのクリティカルとファンブル表示に対応。

R1.27　2005/03/19
・ソードワールドのレーティングロールで表記が不適切だったのを訂正。(自動的失敗がファンブルと表記)。
・ダイスロール判定にSwordWorldの自動的成功、自動的失敗を追加。
・バラバラロール時のゲーム固有の成功度判定処理を無くした。

R1.26　2005/03/10
・マスターのナレーション開始記号「＜」が２連続したら終了記号「＞」のタイプミスと突っ込みいれる機能搭載。

R1.25　2005/02/24
・ソードワールドのレーティング表に[]でクリティカル値を設定できるようにした。

R1.24　2005/02/23
・括弧内演算の除算処理を改善。
　除算と乗算をまとめておいて最後に計算するようにした。

R1.23　2005/02/17
・括弧内演算に除算処理を追加。
　ただし逐次処理なので除算と乗算が連続する場合は乗算を先に記述しないと端数切捨ての誤差が出る。

R1.22　2004/11/19
・ダイスの判定処理の順序を変更して厳密にした。

R1.21　2004/11/10
・ゲーム設定に「Pendragon」追加。

R1.20　2004/10/27
・隠しダイスのコマンド変更。ロールしたのが判っても結果が他に判らないようにした。
　マスター以外が使うことは皆無なので、宛先指定も削除した。
　なるべくTalkで打ち込むコマンドを減らすように考慮中。
　(チャンネルごとに独立してカードセットやルールセットを使えるように拡張するときにジャマになる)

R1.19　2004/10/26
・Deadlands用のダメージ算出ルーチンを追加。

R1.18　2004/10/24
・ゲーム設定に「Deadlands」を追加。
・成功度表示が出るので、ダイス目の表示でヒットしたものを()で囲むのをやめた。

R1.17　2004/10/20
・チャンネルを退出するキーワードを設定。
　キーワードを発言することでBotをそのチャンネルからだけ退出させることが
　できます。(マスター登録するとマスターのみ可能)
・ゲーム設定に「Elric!」を追加。

R1.16　2004/10/18
・結果表記を日本語にした。(英語の方がカッコよかったかな？)
・結果表示のエクスクラメーション(!)を削除。
・加算ロールを表示モード2で表示すると[]で表示されるために表示抑制が
　上手くかかってなかったのを修正。

R1.15　2004/10/18
・カードのドローを複数枚一度に引けるように機能追加。
・もともとのドロールーチンの記述ミスを修正。
　(元のボットの作者、文字列比較と数値比較よく間違う...)
・レーティング表(Rating)の記述が間違っていた(Lating表記)になっていたのを
　修正して、コマンドをKに変更。
・メッセージの全参加窓表示が上手く機能していなかったのを修正。
　(Unicode->Jis変換忘れ)

R1.14　2004/10/17
・Joinを監視してウエルカムメッセージを出すようにした。
　(非アクティヴ時に来て沈黙している人の発見用)
・バラバラにロールする部分をサブルーチン化。
　(将来的に最大値、最小値、1の個数のカウントも考慮)

R1.13　2004/10/14
・ゲーム設定に「ロールマスター」と「シャドウラン」追加。
・ゲーム設定で対象システムを「none」と指定すると解除できるようにした。
・バラバラロールにも成功度自動判定をつけた。

R1.12　2004/10/13
・ゲーム設定を実装。現在は「クトゥルフの呼び声」「ルーンクエスト」「CHILL」の
　３種類。
・ゲーム設定を行うと加算ロールで「<=目標値」で、目標値指定して成功度判定を
　行うことが出来ます。

R1.11　2004/09/29
・inviteの動作が揺れるので安定化してみた。
　(NET::IRCでArgsで戻る部屋名が配列になる場合がある)

R1.10　2004/09/27
・カードを裏にしたまま捨てる機能実装。
・inviteに対応。呼べば部屋にやってきます。
・modeとカードのストックを部屋ごとに管理する必要あるかな？

R1.9　2004/09/24
・ViewModeを３パターンにして「ロール結果モード」を実装。普段はこれで十分かと。(笑

R1.8　2004/09/24
・()内演算を加減算の他に乗算も使えるようにした。
・加算ロールでダイスロールの結果に乗算できるようにした。(xDn*mの実装)
　これでダイスの数をn倍したロールとダイスロール結果のn倍の両方に
　対応したことになります。

R1.7　2004/09/23
・上方無限ロール「xUn」実装。
・段々複雑になってきたので、いっそのこと「ゲームごとのモード変更」で
　セットの切り替えやった方が早いような気がしてきた。(^^;
　「天羅万象モード」とか「ヴァンパイアモード」とかってね。
・()内に加減算の式を書くと先に計算してからダイス処理をするようにした。

R1.6　2004/09/22
・マスターの設定を実装してみた。
・mode切り替えを実装。mode0で結果のみの表示。mode1で現在のデフォルト。
・成功数分のリロールありのロール「xRn」を実装。
　そのうち1のルールや6のルールあるロールも実装か。(--;

R1.5　2004/09/21
・加算ロールの計算部分を強化して、ダイスの加減算を実装。
　それに伴って、ボーナスの加減算が先頭以外のどこにでも記述可能になった。

R1.3-4　2004/09/20
・細かいロジックのバグフィクス。
・隠しダイスをプライベートメッセージで振れるようにしてみた。

R1.1　2004/09/19
・バラバラロールの条件式拡張。
・ダイス目を表示すると空白をあけると冗長になるので、ダイス目の間の空白を削除。
・結果表示を他の書式と揃えた。

R1.0　2004/09/18
・ダイスロールの結果しか見えないのに不満が出たので、それぞれのダイス目を
　表示するように改造した。
・バラバラのダイスの時には、条件判断でヒット数が出るようにした。


その原型　http://www.new-f.com/ にて配布されているPerlのダイスボット。
